<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zenkins - CI/CD Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --jenkins-blue: #14141f;
            --jenkins-sidebar: #f8f9fa;
            --success-green: #198754;
        }

        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #fff; }

        /* Navbar Styling */
        .navbar { background-color: var(--jenkins-blue); border-bottom: 4px solid #d33833; }
        .navbar-brand { font-weight: bold; color: white !important; letter-spacing: 1px; }

        /* Sidebar */
        .sidebar { background-color: var(--jenkins-sidebar); min-height: calc(100vh - 56px); border-right: 1px solid #dee2e6; }
        .nav-link { color: #333; transition: 0.2s; }
        .nav-link:hover { background-color: #e9ecef; color: #000; }
        .nav-link.active { font-weight: bold; border-left: 4px solid var(--jenkins-blue); }

        /* Job Table */
        .status-icon { font-size: 1.2rem; }
        .status-stable { color: #4e9bd4; } /* Jenkins uses blue for "Success" */

        /* Console Output Simulation */
        #console-log {
            background-color: #000;
            color: #0f0;
            font-family: 'Courier New', Courier, monospace;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            display: none;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <i class="bi bi-robot me-2"></i>ZENKINS
            </a>
            <div class="d-flex text-white-50 small">
                <span class="me-3">admin | logout</span>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav class="col-md-2 d-none d-md-block sidebar py-3">
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link active" href="#"><i class="bi bi-plus-circle me-2"></i> New Item</a></li>
                    <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-people me-2"></i> People</a></li>
                    <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-clock-history me-2"></i> Build History</a></li>
                    <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-gear me-2"></i> Manage Zenkins</a></li>
                    <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-search me-2"></i> Credentials</a></li>
                </ul>
            </nav>

            <main class="col-md-10 ms-sm-auto px-md-4 py-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Dashboard</h1>
                    <div class="btn-toolbar mb-2 mb-md-0">
                        <button type="button" class="btn btn-sm btn-outline-secondary" onclick="addJob()">
                            <i class="bi bi-hammer me-1"></i> Add Build Job
                        </button>
                    </div>
                </div>

                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                <th>S</th>
                                <th>W</th>
                                <th>Job Name</th>
                                <th>Last Success</th>
                                <th>Last Failure</th>
                                <th>Last Duration</th>
                                <th>Console</th>
                            </tr>
                        </thead>
                        <tbody id="job-body">
                            <tr>
                                <td><i class="bi bi-check-circle-fill status-stable"></i></td>
                                <td><i class="bi bi-brightness-high text-warning"></i></td>
                                <td><strong>Production-Deploy</strong></td>
                                <td>2 days ago (#42)</td>
                                <td>N/A</td>
                                <td>1 min 20 sec</td>
                                <td><button class="btn btn-sm btn-link" onclick="runBuild('Production-Deploy')"><i class="bi bi-play-fill text-success"></i></button></td>
                            </tr>
                            <tr>
                                <td><i class="bi bi-x-circle-fill text-danger"></i></td>
                                <td><i class="bi bi-cloud-rain text-secondary"></i></td>
                                <td><strong>Frontend-Unit-Tests</strong></td>
                                <td>3 hours ago (#12)</td>
                                <td>10 min ago (#13)</td>
                                <td>45 sec</td>
                                <td><button class="btn btn-sm btn-link" onclick="runBuild('Frontend-Unit-Tests')"><i class="bi bi-play-fill text-success"></i></button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="console-area" class="mt-5">
                    <h5 id="console-title"></h5>
                    <div id="console-log"></div>
                </div>
            </main>
        </div>
    </div>

    <script>
        function runBuild(jobName) {
            const consoleArea = document.getElementById('console-log');
            const consoleTitle = document.getElementById('console-title');
            
            consoleArea.style.display = 'block';
            consoleArea.innerHTML = '';
            consoleTitle.innerText = `Console Output: ${jobName}`;

            const logs = [
                `[INFO] Starting build for ${jobName}...`,
                `[INFO] Checking out source code from git...`,
                `[INFO] Fetching dependencies...`,
                `[WARNING] 12 vulnerabilities found in npm packages.`,
                `[INFO] Running build scripts...`,
                `[SUCCESS] Build completed in 0.45 seconds.`,
                `[INFO] Archiving artifacts...`,
                `Finished: SUCCESS`
            ];

            let i = 0;
            const interval = setInterval(() => {
                if (i < logs.length) {
                    consoleArea.innerHTML += logs[i] + "<br>";
                    consoleArea.scrollTop = consoleArea.scrollHeight;
                    i++;
                } else {
                    clearInterval(interval);
                }
            }, 600);
        }

        function addJob() {
            const name = prompt("Enter Job Name:");
            if (name) {
                const tbody = document.getElementById('job-body');
                const row = `
                    <tr>
                        <td><i class="bi bi-dash-circle text-muted"></i></td>
                        <td><i class="bi bi-cloud text-muted"></i></td>
                        <td><strong>${name}</strong></td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>0 sec</td>
                        <td><button class="btn btn-sm btn-link" onclick="runBuild('${name}')"><i class="bi bi-play-fill text-success"></i></button></td>
                    </tr>
                `;
                tbody.innerHTML += row;
            }
        }
    </script>
</body>
</html>
